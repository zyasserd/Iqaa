<div id="boo"></div>
<script src="https://npmcdn.com/vexflow@3.0.9/releases/vexflow-debug.js"></script>
<script>
    VF = Vex.Flow;

    // Create an SVG renderer and attach it to the DIV element named "boo".
    var renderer = new VF.Renderer(document.getElementById("boo"), VF.Renderer.Backends.SVG);

    let width = 500;
    let height = 100;
    let padding = 5;

    // Size our SVG:
    renderer.resize(width, height);

    // And get a drawing context:
    var context = renderer.getContext();


    // Create a stave at position 10, 40 of width 400 on the canvas.
    var stave = new VF.Stave(padding, 0, width-padding*2);
    stave.options.line_config =[
        { visible: false },
        { visible: false },
        { visible: true }, // show middle
        { visible: false },
        { visible: false },
    ];

    stave.addClef("percussion").addTimeSignature("8/4", 0/* sets padding to 0*/);

    // Connect it to the rendering context and draw!
    stave.setContext(context);
    stave.draw();

    // ---------------------------------------------------------------------------------
    
    notes = [
        new VF.StaveNote({clef: "percussion", keys: ["b/4"], duration: "8r", stem_direction: Vex.Flow.StaveNote.STEM_DOWN}),
        new VF.StaveNote({clef: "percussion", keys: ["b/4"], duration: "8", stem_direction: Vex.Flow.StaveNote.STEM_UP}),
        // new VF.StaveNote({clef: "percussion", keys: ["b/4"], duration: "q"}),
        new VF.TextNote({ text: 'a',  duration: 'q' }).setStave(stave),
        new VF.StaveNote({clef: "treble", keys: ["b/4"], duration: "qr" }),
        new VF.StaveNote({clef: "treble", keys: ["c/4", "e/4", "g/4"], duration: "q" }),
        new VF.StaveNote({clef: "treble", keys: ["c/4", "e/4", "g/4"], duration: "q" }),
        new VF.StaveNote({clef: "treble", keys: ["c/4", "e/4", "g/4"], duration: "q" }),
        new VF.StaveNote({clef: "treble", keys: ["c/4", "e/4", "g/4"], duration: "q" }),
        new VF.StaveNote({clef: "treble", keys: ["c/4", "e/4", "g/4"], duration: "q" })
    ];

    // notes[1].setJustification(100)
    
    let voice = new VF.Voice({num_beats: 8,  beat_value: 4}).addTickables(notes);
    
    // Format and justify the notes
    new VF.Formatter().joinVoices([voice]).format([voice], stave.end_x - stave.start_x);
    
    // Render voice
    voice.draw(context, stave);
    

    // ---------------------------------------------------------------------------------

    // redraw
    // context.clear();
    // stave.draw();
    // // Draw New Voice
</script>
